#pragma once
#include "PotentialModel.h"

namespace ball
{
	namespace tasks
	{
		namespace egm96
		{
			// a gravitational constant
			inline constexpr double Mu{ 0.3986004415E+15 };
			// an equatorial radius
			inline constexpr double R{ 0.6378136300E+07 };
			// a square of the eccentricity
			inline constexpr double Ec2{ 6.69437999014e-3 };
			// a velocity of the rotation in rad/s
			inline constexpr double W{ 72.92115e-6 };
			// a flattening (a compression of Earth's ellipsoid)
			inline constexpr double Fl{ 1.0 / 298.257223563 };
		}

		class PotentialEGM96 : public IPotential
		{
		public:
			unsigned int Count() const override
			{
				return _count;
			}
			const std::vector<std::pair<double, double>>& Harmonics() const override
			{
				return _harmonics;
			}
		private:
			static inline const unsigned int _count = 16;
			static inline const std::vector<std::pair<double, double>> _harmonics
			{
				//   C                       S
				// 0
				{ 1.000000000000e+00,	0.000000000000e+00 },
				// 1
				{ 0.000000000000e+00, 0.000000000000e+00 },
				{ 0.000000000000e+00, 0.000000000000e+00 },
				// 2
				{ -0.484165371736e-03,  0.000000000000e+00 },
				{ -0.186987635955e-09,  0.119528012031e-08 },
				{ 0.243914352398e-05,	-0.140016683654e-05 },
				// 3
				{ 0.957254173792e-06,	0.000000000000e+00 },
				{ 0.202998882184e-05,	0.248513158716e-06 },
				{ 0.904627768605e-06,	-0.619025944205e-06 },
				{ 0.721072657057e-06,	0.141435626958e-05 },
				// 4
				{ 0.539873863789e-06,	0.000000000000e+00 },
				{ -0.536321616971e-06,	-0.473440265853e-06 },
				{ 0.350694105785e-06,	0.662671572540e-06 },
				{ 0.990771803829e-06,	-0.200928369177e-06 },
				{ -0.188560802735e-06,  0.308853169333e-06 },
				// 5
				{ 0.685323475630e-07,	0.000000000000e+00 },
				{ -0.621012128528e-07,	-0.944226127525e-07 },
				{ 0.652438297612e-06,	-0.323349612668e-06 },
				{ -0.451955406071e-06,	-0.214847190624e-06 },
				{ -0.295301647654e-06,  0.496658876769e-07 },
				{ 0.174971983203e-06,	-0.669384278219e-06 },
				// 6
				{ -0.149957994714e-06,  0.000000000000e+00 },
				{ -0.760879384947e-07,  0.262890545501e-07 },
				{ 0.481732442832e-07,	-0.373728201347e-06 },
				{ 0.571730990516e-07,	0.902694517163e-08 },
				{ -0.862142660109e-07,	-0.471408154267e-06 },
				{ -0.267133325490e-06,	-0.536488432483e-06 },
				{ 0.967616121092e-08,	-0.237192006935e-06 },
				// 7
				{ 0.909789371450e-07,	0.000000000000e+00 },
				{ 0.279872910488e-06,	0.954336911867e-07 },
				{ 0.329743816488e-06,	0.930667596042e-07 },
				{ 0.250398657706e-06,	-0.217198608738e-06 },
				{ -0.275114355257e-06,	-0.123800392323e-06 },
				{ 0.193765507243e-08,	0.177377719872e-07 },
				{ -0.358856860645e-06,  0.151789817739e-06 },
				{ 0.109185148045e-08,	0.244415707993e-07 },
				// 8
				{ 0.496711667324e-07,	0.000000000000e+00 },
				{ 0.233422047893e-07,	0.590060493411e-07 },
				{ 0.802978722615e-07,	0.654175425859e-07 },
				{ -0.191877757009e-07,	-0.863454445021e-07 },
				{ -0.244600105471e-06,  0.700233016934e-07 },
				{ -0.255352403037e-07,  0.891462164788e-07 },
				{ -0.657361610961e-07,  0.309238461807e-06 },
				{ 0.672811580072e-07,	0.747440473633e-07 },
				{ -0.124092493016e-06,  0.120533165603e-06 },
				// 9
				{ 0.276714300853e-07,	0.000000000000e+00 },
				{ 0.143387502749e-06,	0.216834947618e-07 },
				{ 0.222288318564e-07,	-0.322196647116e-07 },
				{ -0.160811502143e-06,	-0.742287409462e-07 },
				{ -0.900179225336e-08,  0.194666779475e-07 },
				{ -0.166165092924e-07,	-0.541113191483e-07 },
				{ 0.626941938248e-07,	0.222903525945e-06 },
				{ -0.118366323475e-06,	-0.965152667886e-07 },
				{ 0.188436022794e-06,	-0.308566220421e-08 },
				{ -0.477475386132e-07,  0.966412847714e-07 },
				// 10
				{ 0.526222488569e-07,	0.000000000000e+00 },
				{ 0.835115775652e-07,	-0.131314331796e-06 },
				{ -0.942413882081e-07,	-0.515791657390e-07 },
				{ -0.689895048176e-08,	-0.153768828694e-06 },
				{ -0.840764549716e-07,	-0.792806255331e-07 },
				{ -0.493395938185e-07,	-0.505370221897e-07 },
				{ -0.375885236598e-07,	-0.795667053872e-07 },
				{ 0.811460540925e-08,	-0.336629641314e-08 },
				{ 0.404927981694e-07,	-0.918705975922e-07 },
				{ 0.125491334939e-06,	-0.376516222392e-07 },
				{ 0.100538634409e-06,	-0.240148449520e-07 },
				// 11
				{ -0.509613707522e-07,  0.000000000000e+00 },
				{ 0.151687209933e-07,	-0.268604146166e-07 },
				{ 0.186309749878e-07,	-0.990693862047e-07 },
				{ -0.309871239854e-07,	-0.148131804260e-06 },
				{ -0.389580205051e-07,	-0.636666511980e-07 },
				{ 0.377848029452e-07,	0.494736238169e-07 },
				{ -0.118676592395e-08,  0.344769584593e-07 },
				{ 0.411565188074e-08,	-0.898252808977e-07 },
				{ -0.598410841300e-08,  0.243989612237e-07 },
				{ -0.314231072723e-07,  0.417731829829e-07 },
				{ -0.521882681927e-07,	-0.183364561788e-07 },
				{ 0.460344448746e-07,	-0.696662308185e-07 },
				// 12
				{ 0.377252636558e-07,	0.000000000000e+00 },
				{ -0.540654977836e-07,	-0.435675748979e-07 },
				{ 0.142979642253e-07,	0.320975937619e-07 },
				{ 0.393995876403e-07,	0.244264863505e-07 },
				{ -0.686908127934e-07,  0.415081109011e-08 },
				{ 0.309411128730e-07,	0.782536279033e-08 },
				{ 0.341523275208e-08,	0.391765484449e-07 },
				{ -0.186909958587e-07,  0.356131849382e-07 },
				{ -0.253769398865e-07,  0.169361024629e-07 },
				{ 0.422880630662e-07,	0.252692598301e-07 },
				{ -0.617619654902e-08,  0.308375794212e-07 },
				{ 0.112502994122e-07,	-0.637946501558e-08 },
				{ -0.249532607390e-08,	-0.111780601900e-07 },
				// 13
				{ 0.422982206413e-07,	0.000000000000e+00 },
				{ -0.513569699124e-07,  0.390510386685e-07 },
				{ 0.559217667099e-07,	-0.627337565381e-07 },
				{ -0.219360927945e-07,  0.974829362237e-07 },
				{ -0.313762599666e-08,	-0.119627874492e-07 },
				{ 0.590049394905e-07,	0.664975958036e-07 },
				{ -0.359038073075e-07,	-0.657280613686e-08 },
				{ 0.253002147087e-08,	-0.621470822331e-08 },
				{ -0.983150822695e-08,	-0.104740222825e-07 },
				{ 0.247325771791e-07,	0.452870369936e-07 },
				{ 0.410324653930e-07,	-0.368121029480e-07 },
				{ -0.443869677399e-07,	-0.476507804288e-08 },
				{ -0.312622200222e-07,  0.878405809267e-07 },
				{ -0.612759553199e-07,  0.685261488594e-07 },
				// 14
				{ -0.242786502921e-07,  0.000000000000e+00 },
				{ -0.186968616381e-07,  0.294747542249e-07 },
				{ -0.367789379502e-07,	-0.516779392055e-08 },
				{ 0.358875097333e-07,	0.204618827833e-07 },
				{ 0.183865617792e-08,	-0.226780613566e-07 },
				{ 0.287344273542e-07,	-0.163882249728e-07 },
				{ -0.194810485574e-07,  0.247831272781e-08 },
				{ 0.375003839415e-07,	-0.417291319429e-08 },
				{ -0.350946485865e-07,	-0.153515265203e-07 },
				{ 0.320284939341e-07,	0.288804922064e-07 },
				{ 0.390329180008e-07,	-0.144308452469e-08 },
				{ 0.153970516502e-07,	-0.390548173245e-07 },
				{ 0.840829163869e-08,	-0.311327189117e-07 },
				{ 0.322147043964e-07,	0.451897224960e-07 },
				{ -0.518980794309e-07,	-0.481506636748e-08 },
				// 15
				{ 0.147910068708e-08,	0.000000000000e+00 },
				{ 0.100817268177e-07,	0.109773066324e-07 },
				{ -0.213942673775e-07,	-0.308914875777e-07 },
				{ 0.521392929041e-07,	0.172892926103e-07 },
				{ -0.408150084078e-07,  0.650174707794e-08 },
				{ 0.124935723108e-07,	0.808375563996e-08 },
				{ 0.331211643896e-07,	-0.368246004304e-07 },
				{ 0.596210699259e-07,	0.531841171879e-08 },
				{ -0.322428691498e-07,  0.221523579587e-07 },
				{ 0.128788268085e-07,	0.375629820829e-07 },
				{ 0.104688722521e-07,	0.147222147015e-07 },
				{ -0.111675061934e-08,  0.180996198432e-07 },
				{ -0.323962134415e-07,  0.155243104746e-07 },
				{ -0.283933019117e-07,	-0.422066791103e-08 },
				{ 0.519168859330e-08,	-0.243752739666e-07 },
				{ -0.190930538322e-07,	-0.471139421558e-08 },
				// 16
				{ -0.315322986722e-08,  0.000000000000e+00 },
				{ 0.258360856231e-07,	0.325447560859e-07 },
				{ -0.233671404512e-07,  0.288799363439e-07 },
				{ -0.336019429391e-07,	-0.220418988010e-07 },
				{ 0.402316284314e-07,	0.483837716909e-07 },
				{ -0.129501939245e-07,	-0.319458578129e-08 },
				{ 0.140239252323e-07,	-0.350760208303e-07 },
				{ -0.708412635136e-08,	-0.881581561131e-08 },
				{ -0.209018868094e-07,  0.500527390530e-08 },
				{ -0.218588720643e-07,	-0.395012419994e-07 },
				{ -0.117529900814e-07,  0.114211582961e-07 },
				{ 0.187574042592e-07,	-0.303161919925e-08 },
				{ 0.195400194038e-07,	0.666983574071e-08 },
				{ 0.138196369576e-07,	0.102778499508e-08 },
				{ -0.193182168856e-07,	-0.386174893776e-07 },
				{ -0.145149060142e-07,	-0.327443078739e-07 },
				{ -0.379671710746e-07,	0.302155372655e-08 },
			};
		};
		//class JGM3 : public IPotentialModel
		//{
		//private:
		//	const double _zonal[7] =
		//	{
		//		-0.10826360229840e-2,			// 2
		//		0.25324353457544e-5,			// 3
		//		0.16193312050719e-5,			// 4
		//		0.22771610163688e-6,			// 5
		//		-0.53964849049834e-6,			// 6
		//		0.35136844210318e-6,			// 7
		//		0.20251871520885e-6				// 8
		//	};
		//	const std::pair<double, double> _tesseral[35] =
		//	{
		//		//       C                    S
		//		{ -0.24140000522221e-9,	0.15430999737844e-8 },	// 2,1
		//		{ 0.15745360427672e-5, -0.90386807301869e-6 },	// 2,2

		//		{ 0.21927988018965e-5,	0.26801189379726e-6 },	// 3,1
		//		{ 0.30901604455583e-6, -0.21140239785975e-6 },	// 3,2
		//		{ 0.10055885741455e-6, 0.19720132389889e-6 },	// 3,3

		//		{ -0.50872530365024e-6,	-0.44945993508117e-6 },	// 4,1
		//		{ 0.78412230752366e-7, 0.14815545694714e-6 },	// 4,2
		//		{ 0.59215743214072e-7, -0.12011291831397e-7 },	// 4,3
		//		{ -0.39823957404129e-8, 0.65256058113396e-8 },	// 4,4

		//		{ -0.53716510187662e-7,	-0.80663463828530e-7 },	// 5,1
		//		{ 0.10559053538674e-6, -0.52326723987632e-7 },	// 5,2
		//		{ -0.14926153867389e-7, -0.71008771406986e-8 },	// 5,3
		//		{ -0.22979123502681e-8, 0.38730050770804e-9 },	// 5,4
		//		{ 0.43047675045029e-9, -0.16482039468636e-8 },	// 5,5

		//		{ -0.59877976856303e-7, 0.21164664354382e-7 },	// 6,1
		//		{ 0.60120988437373e-8, -0.46503948132217e-7 },	// 6,2
		//		{ 0.11822664115915e-8, 0.18431336880625e-9 },	// 6,3
		//		{ -0.32641389117891e-9, -0.17844913348882e-8 },	// 6,4
		//		{ -0.21557711513900e-9, -0.43291816989540e-9 },	// 6,5
		//		{ 0.22136925556741e-11, -0.55277122205966e-10 },// 6,6

		//		{ 0.20514872797672e-6,	0.69369893525908e-7 },	// 7,1
		//		{ 0.32844904836492e-7, 0.92823143885084e-8 },	// 7,2
		//		{ 0.35285405191512e-8, -0.30611502382788e-8 },	// 7,3
		//		{ -0.58511949148624e-9, -0.26361822157867e-9 },	// 7,4
		//		{ 0.58184856030873e-12, 0.63972526639235e-11 },	// 7,5
		//		{ -0.24907176820596e-10, 0.10534878629266e-10 },// 7,6
		//		{ 0.25590780149873e-13, 0.44759834144751e-12 },	// 7,7

		//		{ 0.16034587141379e-7,	0.40199781599510e-7 },	// 8,1
		//		{ 0.65765423316743e-8, 0.53813164055056e-8 },	// 8,2
		//		{ -0.19463581555399e-9, -0.87235195047605e-9 },	// 8,3
		//		{ -0.31893580211856e-9, 0.91177355887255e-10 },	// 8,4
		//		{ -0.46151734306628e-11, 0.16125208346784e-10 },// 8,5
		//		{ -0.18393642697634e-11, 0.86277431674150e-11 },// 8,6
		//		{ 0.34297618184624e-12, 0.38147656686685e-12 },	// 8,7
		//		{ -0.15803322891725e-12 , 0.15353381397148e-12 }// 8,8
		//	};
		//	const unsigned int _count{ 8 };

		//public:
		//	unsigned int Count() const override { return _count; }
		//	const std::vector<std::pair<double, double>>& Harmonics() const override
		//	{

		//	}
		//};
	}
}